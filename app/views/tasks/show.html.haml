- model_class = Task
.page-header
  %h1
    = @task.name
    %small
      = surround "[", "]" do
        = t("task.states.#{@task.state}")
%p
  %strong= model_class.human_attribute_name(:description) + ':'
  %br
  = @task.description
%p
  %strong= model_class.human_attribute_name(:user_id) + ':'
  %br
  = @task.user_id

- if can? :change_states, @task
  - @task.possible_events.each do |event|
    = link_to t("task.events.#{event.to_s.downcase}"), task_path(@task, event: event), :method => :put, :class => 'btn btn-success btn-default'

= link_to t('.back', :default => t("helpers.links.back")), tasks_path, :class => 'btn btn-default'

- if can? :update, @task
  = link_to t('.edit', :default => t("helpers.links.edit")), edit_task_path(@task), :class => 'btn btn-default'

- if can? :destroy, @task
  = link_to t('.destroy', :default => t("helpers.links.destroy")), task_path(@task), :method => "delete", :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-danger'
